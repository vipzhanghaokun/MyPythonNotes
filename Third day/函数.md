# 函数

> 编程方法：
>
> * 面向对象编程		>类		>class
> * 面向过程编程         >过程>def
> * 函数式编程    >函数      >def



### 一、**什么是函数**

函数是逻辑结构化和过程化的一种编程方法

Python中函数定义的方法



```python
def test(x):
    """
    the function
    """
    pass
	return x
```

​	def：定义函数的关键字

​	test：函数名

​	x：形式参数

​	"""..."""：文档描述

​	pass：程序处理逻辑

​	return：用来返回值

#### 1.函数式编程



```python
def func1():
    """
    testing1
    :return:
    """
    print("in the func1")
    return 0
```



#### 2.面向过程编程

​	把一段程序逻辑封装起来，通过执行函数来执行程序里的逻辑内容



```python
def func2():
    """
    testing2
    :return:
    """
    print("in the func2")
```

### 二、函数三大优点

* 代码重用
* 保持一致性
* 可扩展性

### 三、**函数的返回值**

​	函数中使用return返回值，当定义的函数中有使用了return，程序执行到return语句，就结束程序，并返回return的值，可以返回任意类型值，没有定义return语句，程序默认返回None

​	当有多个值返回时，返回值以元组的 形式包含所有值，进行返回。

**总结：**

​	1.没有定义返回值return，返回值为None

​	2.定义了一个返回值return，返回值为返回的对象

​	3.定义了多个返回值return，返回值以一个元组形式返回多个值

```python
def func1():
    """
    testing1
    :return:
    """
    print("in the func1")
    
def func2():
	"""
  	testing2
  	:return:
 	 """
  	print("in the func2")
 	return 1

def func3():
	"""
    testing2
    :return:
    """
    print("in the func2")
    return 1,2,3,True


res1 = func1()
res2 = func2()
res3 = func3()

print('res1:',res1)
print('res2:',res2)
print('res3:',res3)
```

  	输出结果
  ```powershell
in the func1
in the func2
in the func2
res1: None
res2: 1
res3: (1, 2, 3, True)
  ```

  

### 四、**函数的参数**

​	***形参*：**形式参数，在定义函数名和函数体的时候使用的参数，目的是用来接收调用该函数时传递的参数，用于调用函数与函数体直接联系。

​	***实参：***实际参数，可以是常量、变量或表达式， 无论实参是何种类型的量，在进行函数调用时，它们都必须具有确定的值， 以便把这些值传送给形参。

#### 1. 位置参数####

​	形参和实参数量和位置要一一对应，位置参数，就是实参按照位置的先后进行传递个形式参数。位置参数就是按位置顺序传递参数。位置参数的形参和实参要一一对应，不能多，也不能少。或指定形参的值，就不需要按顺序传参。

```python
def add(x, y):
    print('x',x)
    print('y',y)
    print('x+y',x+y)
add(2,3)
```

  	输出结果
  ```python
x 2
y 3
x+y 5
  ```

  ​

#### 2 .关键字参数####

​	在传递参数的时候，指定形式参数的值，即关键字参数。

​	传参顺序：**位置参数要在关键字参数前面。**

```python
def add(x, y):
    print('x',x)
    print('y',y)
    print('x+y',x+y)

add(2,y=5)
```

  ​	输出结果

  ```python
  x 2
  y 5
  x+y 7
  ```

  

#### 3. 默认参数####

​	函数在定义的时候，将形式参数赋予默认值，在调用的时候这个形式参数没有接收到新的值，将使用默认的值执行函数。调用函数的时候，默认参数非必须传递

```python

def add(x, y =2):
    print('x ', x)
    print('y ', y )
    print('x + y', x+y)

add(1)
```

​	输出结果

```python
x  1
y  2
x + y 3
```



#### 4.参数组（可变参数）####

#####  1）多个位置参数#####

​	在定义函数的时候可以使用*args，类似的写法，用于接收多个位置参数，这样函数调用的时候，传递位置参数会以元组的形式传进到函数内部。如果没有，函数内部接收空元组。

```python
def add(*args):
    print('args ', args)

add(1,2,3,4)
```

​	输出结果

```powershell
args  (1, 2, 3, 4)
```



##### 2）多个关键字参数#####

​	在定义函数的时候可以使用**kwargs，类似的写法，用于接收多个关键字参数，这样函数调用的时候，传递关键字参数会以字典的形式传进到函数内部。如果没有，函数内部接收空字典

```python
def add(**kwargs):

    print('kwargs >>',kwargs)


add(x=1,y=2,z=3)
```

​	输出结果

```python
kwargs >> {'x': 1, 'y': 2, 'z': 3}
```



##### 3）组合使用#####

```python
def add(*args, **kwargs):
    print('args>>',args)
    print('kwargs >>',kwargs)


add(1, 2, 3, x = 4, y = 5, z = 6)
```

​	输出结果

```python
args>> (1, 2, 3)
kwargs >> {'y': 5, 'z': 6, 'x': 4}
```



### 五、变量的作用域、局部变量与全局变量

​	变量的可访问范围称为变量的作用域

#### 1.**局部变量**

​	在函数体中声明的变量（包括函数的参数），称为局部变量。其有效范围（即作用域）为函数体。语句块中声明的变量，也是局部变量。

```python
n = 456
def f1():
    n = 123		# 这里的n是局部变量，它的作用域是函数f1的函数体
    print(n)
    
f1()
```



#### 2.**全局变量**

​	在一个源代码文件中，在函数和类定义之外声明的变量称之为全局变量。全局变量的作用域为其定义的模块，从定义的位置起，直到文件结束为止。

```python
n = 456		# 这里的n是全局变量，它的作用域是整个源代码文件

def f1():
    n = 123
    print(n)

f1()
print(n)
```

​	输出结果

```python
123
456
```

​	注：在变量同名的情况，变量的查找顺序是先查找局部变量，再向外查找，直到找到为止。

#### 3.**global**

​	在函数体中，使用global可将局部变量声明为全局变量。

```python
g = 123
def f1():
    global g
    g = 456
    print(g)

f1()
print(g)
```

​	输出结果

```python
456
456
```



注：列表，集合，字典，类，可以修改全局变量



### 六、递归

在函数的内部，可以调用其他函数，如果一个函数在内部调用了自身，那么这个函数就是递归函数

```python
def f1(n):
    print(n)
    m = int(n/2)
    if m > 0:
        return f1(m)

f1(10)
```

​	输出结果

```powershell
10
5
2
1
```



递归特性：

1. 必须有一个明确的结束条件
2. 每次进入更深一层递归时，问题规模要比相比上此递归都应有所减少
3. 递归效率不高，递归层次过多会导致栈溢出





### 七、函数式编程

> ​	常见的函数式编程语言：lisp，hashshell，erlang等语言

特点：输入值是固定，那么输出的值就是固定的



### 八、高阶函数

​	变量可以是函数，函数的 参数可以接收变量，那么一个函数就可以接收另一个函数作为参数，这个函数就是高阶函数。

```python
def f1(a,b,f):
    return f(a)+f(b)

res = f1(12,-23,abs)

print(res)
```

​	输出结果

```powershell
35
```







