# 文件进阶操作

* 按行读取

  readline()

```python
f = open('yesterday','r',encoding='utf-8')
for i in range(5):
    print(f.readline())
    
# 输出
Somehow, it seems the love I knew was always the most destructive kind

不知为何，我经历的爱情总是最具毁灭性的的那种

Yesterday when I was young

昨日当我年少轻狂

The taste of life was sweet
```

​	readlines()

​	将文件内容读取放到列表中，将每行作为元素放入列表中

```python
f = open('yesterday','r',encoding='utf-8')
print(f.readlines())

['Somehow, it seems the love I knew was always the most destructive kind\n', '不知为何，我经历的爱情总是最具毁灭性的的那种\n', 'Yesterday when I was young\n',...,]
```

​	练习：不打印第10行

```python
f = open('yesterday','r',encoding='utf-8')

for index,line in enumerate(f.readlines()):
    if index == 9:
        print('------------this is 10 line.--------')
        continue
    print(line.strip())
```

​	输出结果

```shell
Somehow, it seems the love I knew was always the most destructive kind
不知为何，我经历的爱情总是最具毁灭性的的那种
Yesterday when I was young
昨日当我年少轻狂
The taste of life was sweet
生命的滋味是甜的
As rain upon my tongue
就如舌尖上的雨露
I teased at life as if it were a foolish game
------------this is 10 line.--------
The way the evening breeze
就如夜晚的微风
May tease the candle flame
逗弄蜡烛的火苗
...	...

```



​	readlines()只适合读取小文件，不适合大文件，因为需要将所有文件读取内存中，然后将内容转换成列表。

这时我们就需要更高效的读取方式。

```python
f = open('yesterday','r',encoding='utf-8')
for line in f:			# 现在f就是迭代器
    print(line.strip())
```

​	输出结果也是一样的。

​	刚才的练习可以改成如下：

```python
f = open('yesterday','r',encoding='utf-8')

count = 0
for line in f:
    count += 1
    if count == 10:
        print('------------this is 10 line.--------')
        continue
    print(line.strip())
```

​	输出结果

```python
Somehow, it seems the love I knew was always the most destructive kind
不知为何，我经历的爱情总是最具毁灭性的的那种
Yesterday when I was young
昨日当我年少轻狂
The taste of life was sweet
生命的滋味是甜的
As rain upon my tongue
就如舌尖上的雨露
I teased at life as if it were a foolish game
------------this is 10 line.--------
The way the evening breeze
就如夜晚的微风
May tease the candle flame
逗弄蜡烛的火苗
The thousand dreams I dreamed
我曾千万次梦见
...	...

```





​	