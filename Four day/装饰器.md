# 装饰器

**定义：**

​	装饰器，本质是函数。属于函数中的一种组合的函数
**功能：**

​	就是用来装饰的其他函数，就是为其他函数添加附加功能，例如记录日志功能
**原则：**

1. 不能修改被装饰的函数的**源代码**
2. 不能修改被装饰的函数的**调用方式**
3. 装饰器对被装饰的函数是完全**透明**的, 感知不到装饰器的存在



装饰器示例：

```python
# 计算函数运行时间的装饰器
import time


def timmer(func):
    def warpper(*args,**kwargs):
        start_time = time.time()
        func()
        stop_time = time.time()
        print('the func run time is %s' % (stop_time - start_time))

    return warpper

@timmer
def f1():
    time.sleep(3)
    print('in the f1')

f1()
```

​	输出结果

```powershell
in the f1
the func run time is 3.0003881454467773
```



从这个装饰器示例可以拆解为如下知识点：

## 一、函数即“变量”

​	函数就是将函数体赋值给函数名

​	a.内存就是一幢大楼，内存空间就是每一个房间，内存地址就是房间的门牌号，对象就是房间里的具体东西，像函数体，数字1，就是字符串，没有任何意义
​	b.解释器回收变量，采用引用计数的方式，例x=1,y=x,就是x,y全都指向1，这时引用计数就是2，当没有任何变量引用1的时候，就会将内存空间回收，如果有引用，但是没有使用，会一直贮存在内存中，直到程序结束，或使用del删除变量名，使其引用计数减少
​	c.函数只要在调用前，已经被定义，就可以执行